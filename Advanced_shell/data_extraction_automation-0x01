#!/bin/bash

# Extract data from a json file
NAME=$(jq -r '.name' "data.json")
TYPE=$(jq -r '.types[0].type.name' "data.json")
HEIGHT=$(jq -r '.height' "data.json")
WEIGHT=$(jq -r '.weight' "data.json")

# Capitalize name and type using sed
CAP_NAME=$(echo "$NAME" | sed -E 's/^(.)/\U\1/')
CAP_TYPE=$(echo "$TYPE" | sed -E 's/^(.)/\U\1/')

# Format height (dm → m) and weight (hg → kg) using awk
FORMATTED=$(echo "$HEIGHT $WEIGHT" | awk '{ printf "%.1fm, %.1fkg", $1/10, $2/10 }')

# Extract formatted values
formatted_height=$(echo "$FORMATTED" | cut -d',' -f1)
formatted_weight=$(echo "$FORMATTED" | cut -d',' -f2)

# Print the output
echo "$CAP_NAME is of type $CAP_TYPE, weighs $formatted_weight and is $formatted_height tall."
